"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = default_1;
const dependencies_1 = require("@schematics/angular/utility/dependencies");
const dtl = '@testing-library/dom';
function default_1() {
    return async (tree, context) => {
        const dtlDep = (0, dependencies_1.getPackageJsonDependency)(tree, dtl);
        if (dtlDep) {
            context.logger.info(`Skipping installation of '@testing-library/dom' because it's already installed.`);
        }
        else {
            context.logger.info(`Adding '@testing-library/dom' as a peer dependency.`);
            (0, dependencies_1.addPackageJsonDependency)(tree, { name: dtl, type: dependencies_1.NodeDependencyType.Dev, overwrite: false, version: '^10.0.0' });
        }
    };
}
